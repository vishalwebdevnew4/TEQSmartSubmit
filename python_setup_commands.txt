#!/bin/bash
# Python dependencies setup commands for remote server
# Run this on the remote server

echo "=========================================="
echo "Setting up Python dependencies..."
echo "=========================================="

# Install Playwright and dependencies
echo "[1/5] Installing Playwright..."
pip3 install --user playwright || sudo pip3 install playwright

# Install Playwright browsers
echo "[2/5] Installing Playwright Chromium browser..."
python3 -m playwright install chromium

# Install Playwright system dependencies
echo "[3/5] Installing Playwright system dependencies..."
python3 -m playwright install-deps chromium

# Install automation dependencies
echo "[4/5] Installing Python automation dependencies..."
pip3 install --user pandas reportlab redis || sudo pip3 install pandas reportlab redis

# Install CAPTCHA solver dependencies
echo "[5/5] Installing CAPTCHA solver dependencies..."
pip3 install --user SpeechRecognition pydub ffmpeg-python || sudo pip3 install SpeechRecognition pydub ffmpeg-python

echo ""
echo "=========================================="
echo "Python setup complete!"
echo "=========================================="

# Verify installation
echo ""
echo "Verification:"
python3 -m playwright --version 2>/dev/null || echo "Playwright installed"
pip3 list | grep -i playwright || echo "Checking..."
python3 --version
pip3 --version

